plugins {
  id 'nf-boost'
}

boost {
  cleanup = true
  cleanupInterval = "30s"
}

params {

  

  panviralEnrichment {

    hostAligner           = "bowtie2"
    hostIndex             = "db/chm13v2"

    virusAligner          = "minimap2"
    virusIndex            = "db/virus.fasta"
    virusReference        = "db/virus.fasta"

    adapterReverse        = null
    adapterReverse        = null

    remapThreads          = 2
    remapParallel         = 4

  }
  
  threads {
    fastp                 = 8
    scrubby               = 8
    vircov                = 8
  }

}


process {

    errorStrategy = "ignore"

    withLabel: vircov { cpus = params.threads.vircov }
    withLabel: scrubby { cpus = params.threads.scrubby } 
    withLabel: fastp { cpus = params.threads.fastp }

}